---
title: "AI 봇에게 파일 정리를 맡겼더니 — 옵시디언 + iCloud + 에이전트 자동화 실전기"
description: "3개 볼트에 흩어진 수백 개 파일을 PARA 구조로 통합하고, AI 봇이 자동 분류하는 시스템을 만들었다. 비용 $0."
date: 2026-02-19
author: codemon
tags: [project, tips]
---

# AI 봇에게 파일 정리를 맡겼더니 — 옵시디언 + iCloud + 에이전트 자동화 실전기

파일 정리를 좋아하는 사람은 없다. 특히 여러 기기에 흩어진 마크다운, PDF, 음성 메모, 스크린샷이 쌓이기 시작하면 "나중에 정리해야지"가 영원히 반복된다.

나는 이 문제를 AI 봇에게 통째로 넘겼다. 결과적으로 3개 볼트에 분산돼 있던 파일을 PARA 구조로 통합하고, 봇이 자동으로 분류하고, 정기적으로 리포트까지 보내주는 시스템을 만들었다. 비용은 $0. 시간은 반나절.

![파일 정리 전후](/images/blog/ai_file_mgmt/01.png)

---

## 문제: 3개 볼트, 2개 기기, 수백 개 파일

서버 모니터링, 배포 자동화, 코드 관리... 해결하고 싶은 문제는 많았다. 근데 가장 먼저 손대고 싶었던 건 **매일 열어보는 옵시디언**이었다. 하루에도 수십 번 접속하는 도구가 정리 안 돼 있으면 모든 작업의 마찰이 된다.

데스크탑(집)과 노트북(외출)에서 작업하다 보니 파일이 흩어졌다.

- `notes/` — 메인 옵시디언 볼트 (프로젝트, 메모)
- `shared/` — AI 봇끼리 파일 교환하는 공유 폴더
- `blog/` — 블로그 드래프트 전용 볼트

세 군데를 왔다갔다하면서 "이 파일 어디 뒀더라?"를 매일 반복했다. iCloud Drive 루트에 `_inbox`를 만들어 던져두긴 했는데, 분류 안 하면 그게 또 쓰레기통이 된다.

---

## 해결: PARA 구조로 통합 + AI 분류

### 1단계: 볼트 통합

세 개를 하나로 합쳤다. [PARA 방법론](https://fortelabs.com/blog/para/) 기반이다. Tiago Forte가 제안한 정보 관리 프레임워크로, 모든 정보를 **Projects(프로젝트), Areas(영역), Resources(자원), Archive(보관)** 4개 층위로 나눈다. "이 파일을 어디에 둘까?"라는 고민을 구조적으로 해결해주는 게 핵심:

```
vault/
├── 0-Inbox/        ← 미정리 (여기에 다 던진다)
├── 1-Projects/     ← 활성 프로젝트
├── 2-Areas/        ← 영역 (Career, Development, Health, Investment, Family)
├── 3-Resources/    ← 참고자료 (Articles, Books, Guides, Tools)
├── 4-Archive/      ← 완료/보관
├── Bot/            ← AI 봇 전용 통신 폴더
└── Templates/      ← 노트 템플릿
```

블로그 볼트는 `1-Projects/blog/`로, 공유 폴더는 `Bot/`으로 흡수. 하나의 볼트에서 모든 걸 관리한다.

![PARA 구조 다이어그램](/images/blog/ai_file_mgmt/02.png)

여기서 중요한 건 **AI 에이전트도 이 구조를 이해한다**는 점이다. 에이전트가 처음 세션을 시작하면 `AGENTS.md`(워크스페이스 가이드)와 `MEMORY.md`(인덱스)를 읽는다. 거기에 볼트 구조, 네이밍 규칙, 분류 기준이 적혀 있으니 별도 학습 없이도 파일을 올바른 위치에 넣을 수 있다. 새로운 에이전트가 투입돼도 같은 파일을 읽으면 같은 규칙을 따른다.

핵심은 **iCloud 옵시디언 영역에 두는 것**이다. `~/Library/Mobile Documents/iCloud~md~obsidian/Documents/vault/`에 넣으면 아이폰 옵시디언 앱에서도 바로 보인다. 옵시디언 Sync 구독($8/월) 없이도 멀티 디바이스 동기화가 된다.

### 2단계: AI 자동 분류 (inbox-classifier)

0-Inbox에 파일을 던지면 AI 봇이 자동으로 분류한다. 현재는 수동 트리거("인박스 정리해줘")지만, 곧 **BullMQ 기반 자동 트리거**를 붙일 예정이다. 파일이 Inbox에 들어오면 큐에 자동 등록 → 분류 에이전트가 내용을 분석 → "이 파일은 1-Projects/moneymon/에 넣는 게 맞을 것 같습니다" 하고 보고하면, 사람이 승인하는 구조다.

```
텔레그램으로 메모 전송
  → AI 봇이 iCloud _inbox에 저장
  → 주기적으로 스캔
  → 내용 분석 → 적절한 폴더로 이동
```

분류 규칙은 `CATEGORIES.md`에 정의해두는데, 여기서 재미있는 건 **셀프 임프루빙**이다. AI가 새 카테고리가 필요하다고 판단하면 직접 `CATEGORIES.md`에 추가한다. 처음엔 5개 카테고리로 시작했는데 지금은 15개가 됐다. 쓸수록 똑똑해지는 분류 시스템.

![AI 분류 플로우차트](/images/blog/ai_file_mgmt/03.png)

### 3단계: 정기 다이제스트

2시간마다 전체 볼트를 스캔해서 리포트를 보내준다.

스케줄링 방법은 여러 가지다. 나는 [OpenClaw](https://openclaw.ai)의 **Cron 기능**을 사용한다 — AI 에이전트에게 "매일 아침 9시에 볼트 상태를 점검해" 같은 작업을 예약할 수 있다. 다른 방법으로는 macOS `launchd`에 Python 스크립트를 걸거나, 에이전트에게 **스킬(SKILL.md)**을 정의해두고 heartbeat 때 주기적으로 호출시킬 수도 있다. 도구보다 중요한 건 "정기적으로 돌아간다"는 것 자체다.

핵심은 태그 기반 상태 관리:

```python
# 태그 기반 상태 관리
#inbox      → 미처리 (기본값)
#wip        → Work In Progress, 작업 중
#done       → 완료
#archive    → 보관
#reference  → 참고자료 (삭제 안 함)
```

이 태그 시스템은 AI 에이전트의 **스킬**로 정의해둔다. 예를 들어 `inbox-classifier` 스킬에는 이런 규칙이 들어간다:

```markdown
# inbox-classifier 스킬 정의 예시

## 분류 규칙
- 파일 내용에 "회의", "미팅" → 1-Projects/ 하위 해당 프로젝트로
- 링크만 있는 메모 → 3-Resources/Articles/
- PDF, 이미지 첨부 → 3-Resources/Guides/
- "아이디어", "해볼 것" → 0-Inbox/ (태그: #wip)
- 날짜+일기 형식 → 2-Areas/Personal/

## 태그 자동 부여
- 새 파일 → #inbox
- 분류 완료 → #inbox 제거, 위치에 맞는 태그 부여
- 7일 후 미처리 → 알림 전송

## 셀프 임프루빙
- 분류 불가 파일 3개 이상 → 새 카테고리 제안
- CATEGORIES.md에 자동 추가 후 사용자 승인 요청
```

리포트에 포함되는 내용:
- 태그별 파일 현황 집계
- **7일 지난 태그 없는 파일** → "태그 달아줘" 알림
- **14일 안 건드린 #wip** → "이거 포기?" 알림
- **30일 지난 #done** → "아카이브할까?" 제안

이 알림 시스템 덕에 "까먹고 방치된 파일"이 거의 사라졌다.

---

## iCloud 정리: evicted 파일의 함정

iCloud와 옵시디언을 같이 쓰면 반드시 만나는 문제가 있다. **evicted 파일**.

iCloud는 저장 공간 절약을 위해 안 쓰는 파일의 실제 내용을 클라우드에만 두고 로컬엔 메타데이터만 남긴다. 문제는 이 상태에서 파일을 읽으려 하면 `Resource deadlock avoided` 에러가 터진다.

```bash
# 해결: 강제 다운로드
brctl download ~/Library/Mobile\ Documents/iCloud~md~obsidian/Documents/vault/파일.md
```

봇이 파일을 분류하기 전에 `brctl download`를 먼저 실행하도록 파이프라인에 넣어둔 게 핵심 트릭이다. 안 그러면 봇이 빈 파일을 읽고 엉뚱한 데로 분류한다.

![iCloud evicted 파일 개념](/images/blog/ai_file_mgmt/04.png)

---

## 네이밍 규칙: AI도 사람도 읽을 수 있게

파일명에 규칙이 없으면 AI도 혼란스러워한다. 우리가 정한 규칙:

```
{YYMMDD}_{주제}.md          ← 날짜 포함
{프로젝트}_{종류}_{제목}.md  ← 프로젝트 파일
done_{YYMMDD}_{제목}.md     ← 처리 완료
```

**금지:** 이모지, 특수문자 `( ) [ ] / \ : * ?`, 공백(언더스코어로 대체)

이 규칙 하나로 AI의 분류 정확도가 체감상 2배 올랐다. 파일명만 봐도 뭔지 알 수 있으니까.

---

## 결과: 한 달 후

| Before | After |
|--------|-------|
| 파일 찾는 데 5분+ | 옵시디언 검색 10초 |
| "나중에 정리" 죄책감 | 봇이 알아서 분류 |
| 3개 볼트 왔다갔다 | 1개 볼트, 아이폰에서도 |
| 방치 파일 수십 개 | 2시간마다 알림 |
| iCloud 에러 빈번 | brctl 자동 처리 |

가장 큰 변화는 심리적인 거다. "정리해야 하는데..."라는 생각 자체가 사라졌다. 아무 데나 던져두면 봇이 알아서 하니까.

다만 솔직히 말하면, **결국 부지런한 사람이 이기긴 한다.** AI가 분류를 제안해도 최종 승인은 사람 몫이고, 태그를 처음 정의하는 것도, 규칙을 다듬는 것도 사람이다. AI는 반복적인 작업의 마찰을 줄여줄 뿐이지 게으름의 면죄부가 되진 않는다. 시스템을 만들어두면 부지런함의 효율이 올라가는 거지, 부지런함 자체를 대체하는 건 아니다.

![정리된 워크스페이스](/images/blog/ai_file_mgmt/05.png)

---

## 기술 스택

- **AI 에이전트 프레임워크** — 텔레그램 연동, 스킬 기반 자동화
- **옵시디언** — 마크다운 기반 노트 (무료)
- **iCloud** — 파일 동기화 (무료, 50GB)
- **텔레그램** — 입력 & 알림
- **Python** — 다이제스트 스크립트 (launchd로 스케줄링)

**총 비용: $0.** iCloud 5GB 무료로도 되지만 50GB($0.99/월)면 넉넉하다.

---

## 시작하고 싶다면

1. 옵시디언 볼트를 iCloud 옵시디언 영역에 만든다
2. PARA 폴더 5개를 만든다 (Inbox, Projects, Areas, Resources, Archive)
3. 파일명 규칙을 정한다 (날짜_주제.md)
4. AI 에이전트에게 Inbox 감시를 맡긴다

AI 에이전트가 없어도 3번까지만 해도 체감이 다르다. 정리 시스템의 핵심은 도구가 아니라 **규칙**이다. 규칙이 있으면 AI든 사람이든 따를 수 있다.
