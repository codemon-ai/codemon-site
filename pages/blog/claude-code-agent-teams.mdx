---
title: "Claude Code Agent Teams — AI 여러 명이 팀으로 코드 리뷰하는 시대"
description: "Claude Code Agent Teams로 여러 AI 인스턴스가 팀을 이뤄 코드 리뷰하는 실전 사용기. 52개 발견사항을 4분 만에."
date: 2026-02-19
author: codemon
tags: [AI, Claude-Code, tips]
---

# Claude Code Agent Teams — AI 여러 명이 팀으로 코드 리뷰하는 시대

Claude Code가 또 한 단계 진화했다. 이번엔 **Agent Teams** — 여러 Claude 인스턴스가 팀을 이뤄 동시에 작업하는 기능이다.

![AI 에이전트들이 코드베이스를 분석하는 모습](/images/blog/agent_teams/01.png)

## Agent Teams가 뭔가

한 마디로: **Claude Code 세션 여러 개가 서로 대화하면서 협업한다.**

기존에도 subagent가 있었다. 메인 에이전트가 도우미를 불러서 결과를 받는 구조. 근데 Agent Teams는 다르다:

| | Subagents | Agent Teams |
|---|---|---|
| 통신 | 메인에게만 보고 | **팀원끼리 직접 대화** |
| 조율 | 메인이 모든 작업 관리 | **공유 태스크 목록으로 자체 조율** |
| 최적 용도 | 간단한 위임 | **토론과 협업이 필요한 복잡한 작업** |

핵심 차이: 팀원들이 서로의 발견을 **공유하고 반박**할 수 있다.

## 직접 해봤다

### 설정 (30초)

`~/.claude/settings.json`에 한 줄 추가:
```json
{
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1"
  }
}
```

실험적 기능이라 기본 비활성화. 환경변수로 켜야 한다.

### 팀 생성

codemon-make 프로젝트 (AI 외주 플랫폼, Next.js + BullMQ + PostgreSQL)에서 테스트했다. PM·Dev·QA 에이전트 3명이 협업하는 구조라 코드베이스가 꽤 복잡한 편 — Agent Teams 테스트용으로 딱이었다.

![Warp 터미널에서 Agent Team 생성](/images/blog/agent_teams/04_warp_team.jpg)
*Warp 터미널에서 Agent Team 생성. @architect와 @security 2명이 스폰되고, 왼쪽은 팀 리더가 조율, 오른쪽은 팀원들이 병렬 작업 중.*

프롬프트 하나로 팀이 만들어진다:

```
> Create a team with 2 teammates to review this codebase
```

Claude가 자동으로:
1. **팀 리더** 역할을 맡고
2. **태스크 목록** 생성 (Architecture Review, Security Audit)
3. **팀원 2명** 스폰 (`@architect`, `@security`)

### 팀원들이 동시에 작업하는 모습

![Terminal.app tmux 분할 화면](/images/blog/agent_teams/05_terminal_split.jpg)
*tmux 분할 화면. 왼쪽: 팀 리더가 조율. 오른쪽 상단: @architect가 아키텍처 리뷰 작성 중. 오른쪽 하단: @security가 4개 감사 태스크 완료 후 종합 리포트 컴파일 중.*

`@security` 팀원이 보안 감사를 시작하자마자 3개의 서브태스크를 병렬로 돌렸다:
- Auth & Session 보안 감사
- Agent 명령 실행 감사
- API 라우트 & 입력 검증 감사

각 팀원이 수십 개 파일을 동시에 읽으니까 단일 세션보다 **체감 3~5배 빠르다.**

### 결과: 52개 발견사항

![최종 통합 리포트](/images/blog/agent_teams/03_final_report.png)
*최종 통합 리포트. 52개 발견사항 + 상위 10개 우선순위 수정안. Quick Wins 6개까지 제시.*

약 4분 만에 전체 코드베이스를 분석하고 통합 리포트를 생성했다:

**아키텍처 발견사항:**
- EventBus subscriber 생명주기 버그
- Orchestrator가 7개 이상의 Redis 연결을 열고 있음
- 파이프라인 단계 중 자동화가 빠진 구간

**보안 발견사항 (크리티컬):**
- 승인 게이트에 인증 체크 누락 → 완전 우회 가능
- `--dangerously-skip-permissions` + 사용자 입력 → 프롬프트 인젝션/RCE 공격면
- `.env.local`에 실제 크레덴셜 노출

**성능 발견사항:**
- DB 인덱스 제로 (!)
- 요청마다 BullMQ Queue 생성 → Redis 연결 폭증
- GitHub API 순차 호출, 캐싱 없음

**Quick Wins (각 1시간 미만):**
1. `/approve`, `/trigger` 등에 `await auth()` + 역할 체크 추가
2. Drizzle 마이그레이션으로 인덱스 추가
3. Phase enum 불일치 수정
4. EventBus JSON.parse에 try/catch 추가
5. GET /projects에 LIMIT + 페이지네이션
6. GitHub webhook 서명 검증

## 이 기능이 빛나는 순간

![병렬 분석 일러스트](/images/blog/agent_teams/02.png)

### 1. 병렬 코드 리뷰
```
3명의 리뷰어를 만들어줘:
- 보안 취약점 전문
- 성능 영향 분석
- 테스트 커버리지 검증
```
한 사람이 놓치는 걸 다른 사람이 잡는다.

### 2. 경쟁하는 가설로 디버깅
```
5명의 조사원을 만들어서 각각 다른 가설을 탐색하게 해.
서로 반박하게 해서 과학적 토론처럼 진행해.
```
**앵커링 바이어스 방지** — 순차적 조사는 첫 가설에 끌리지만, 병렬 조사는 생존한 가설이 진짜일 확률이 높다.

### 3. 크로스 레이어 개발
```
프론트엔드, 백엔드, 테스트 각각 다른 팀원이 담당
```
실제 개발팀처럼 역할을 분리할 수 있다.

## 주의할 점

### 토큰 폭탄 💣
팀원 1명 = Claude 인스턴스 1개. 3명이면 토큰 3배. Max 구독($200)이 아니면 순식간에 한도 도달.

### 파일 충돌
두 팀원이 같은 파일을 편집하면 덮어쓰기 발생. **역할 분리가 핵심.**

### 아직 실험적
- 세션 재개 시 팀원 복원 안 됨
- 태스크 상태가 가끔 꼬임
- 중첩 팀 불가 (팀원이 자기 팀을 만들 수 없음)

## tmux 분할 모드 (추천)

tmux는 터미널 멀티플렉서다. 하나의 터미널 창을 여러 패널로 분할해서 동시에 볼 수 있게 해주는 도구인데, Agent Teams와 궁합이 좋다. (tmux 자체가 궁금하면 다음 편에서 따로 다룰 예정)

기본은 in-process 모드 (Shift+Up/Down으로 팀원 전환). **tmux 분할 모드**가 훨씬 시각적이다:

```bash
brew install tmux
```

```json
{ "teammateMode": "tmux" }
```

각 팀원이 **자기만의 터미널 창**을 가진다. 동시에 다 볼 수 있어서 진행 상황 파악이 훨씬 쉽다.

## 내 판단

**Agent Teams는 "쓸 줄 아는 사람"에게 강력하다.**

- 단순 코딩 → subagent로 충분 (토큰 절약)
- 복잡한 리뷰/디버깅 → Agent Teams가 압도적
- 새 기능 개발 → 역할 분리하면 효과적

다만 토큰 비용이 현실적 제약. Max 구독자나 대형 프로젝트에서 진가를 발휘할 기능이다.

---

**환경:** Claude Code v2.1.45 · Opus 4.6 · Claude Max · macOS (M1 Mac Mini)

**참고:** [공식 문서](https://code.claude.com/docs/ko/agent-teams)
